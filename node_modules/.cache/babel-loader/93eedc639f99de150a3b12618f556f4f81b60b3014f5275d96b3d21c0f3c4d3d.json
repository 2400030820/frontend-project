{"ast":null,"code":"import React,{useState}from'react';import'../styles/Login.css';import{useAppContext}from'../context/AppContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const{login,doctors}=useAppContext();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[userType,setUserType]=useState('patient');const[name,setName]=useState('');const[selectedDoctorId,setSelectedDoctorId]=useState('');const handleSubmit=e=>{e.preventDefault();const user={role:userType,name:name||(email?email.split('@')[0]:'User'),email,registered:true,doctorId:selectedDoctorId};// if a doctor was selected from list, prefer that identity\nif(userType==='doctor'&&selectedDoctorId){const doc=doctors.find(d=>String(d.id)===String(selectedDoctorId));if(doc){login(doc);return;}}login(user);};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"MedConnect Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:userType,onChange:e=>setUserType(e.target.value),className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"patient\",children:\"Patient\"}),/*#__PURE__*/_jsx(\"option\",{value:\"doctor\",children:\"Doctor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pharmacist\",children:\"Pharmacist\"})]})]}),userType==='doctor'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Doctor Account\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:selectedDoctorId,onChange:e=>setSelectedDoctorId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- choose doctor --\"}),doctors.map(doc=>/*#__PURE__*/_jsxs(\"option\",{value:doc.id,children:[doc.name,\" (\",doc.email,\")\"]},doc.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"form-control\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Login\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useAppContext","jsx","_jsx","jsxs","_jsxs","Login","login","doctors","email","setEmail","password","setPassword","userType","setUserType","name","setName","selectedDoctorId","setSelectedDoctorId","handleSubmit","e","preventDefault","user","role","split","registered","doctorId","doc","find","d","String","id","className","children","onSubmit","value","onChange","target","map","type","required"],"sources":["C:/Users/nehit/OneDrive/Desktop/frontend/MedicalSystem/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/Login.css';\r\nimport { useAppContext } from '../context/AppContext';\r\n\r\nconst Login = () => {\r\n  const { login, doctors } = useAppContext();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [userType, setUserType] = useState('patient');\r\n  const [name, setName] = useState('');\r\n  const [selectedDoctorId, setSelectedDoctorId] = useState('');\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const user = { role: userType, name: name || (email ? email.split('@')[0] : 'User'), email, registered: true, doctorId: selectedDoctorId };\r\n    // if a doctor was selected from list, prefer that identity\r\n    if (userType === 'doctor' && selectedDoctorId) {\r\n      const doc = doctors.find(d => String(d.id) === String(selectedDoctorId));\r\n      if (doc) {\r\n        login(doc);\r\n        return;\r\n      }\r\n    }\r\n    login(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-box\">\r\n        <h2>MedConnect Login</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>User Type</label>\r\n            <select\r\n              value={userType}\r\n              onChange={(e) => setUserType(e.target.value)}\r\n              className=\"form-control\"\r\n            >\r\n              <option value=\"patient\">Patient</option>\r\n              <option value=\"doctor\">Doctor</option>\r\n              <option value=\"admin\">Admin</option>\r\n              <option value=\"pharmacist\">Pharmacist</option>\r\n            </select>\r\n          </div>\r\n\r\n          {userType === 'doctor' && (\r\n            <div className=\"form-group\">\r\n              <label>Select Doctor Account</label>\r\n              <select className=\"form-control\" value={selectedDoctorId} onChange={e => setSelectedDoctorId(e.target.value)}>\r\n                <option value=\"\">-- choose doctor --</option>\r\n                {doctors.map(doc => (\r\n                  <option key={doc.id} value={doc.id}>{doc.name} ({doc.email})</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <label>Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"form-control\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"form-control\"\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}